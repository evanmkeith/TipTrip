{% extends 'base.html' %}

{% block content %}
    <form>
        <div>
            <input type="text" name="search" placeholder="Phone number (No dashes)"/>
            <input type="submit" value="Search" />
        </div>
        <a href="{% url 'contacts' user.pk %}">Clear Search</a>
    </form>

    <h1>{{header}}</h1>
    {% for contact in contacts %}
        <p>{{contact.name}}</p>
        <a href="{% url 'add_contact' user.pk contact.pk %}">Add</a>
    {% endfor %}
    <h4>Your Contacts:</h4>
    <ul>
        {% for contact in contact_info %}
            <li>
                {% if contact.image_link != "" %}
                    <img src="{{contact.image_link}}" alt="{{contact.name}}"> 
                {% else %}
                    <img src="https://picsum.photos/200/200?grayscale" alt="Profile Image" />
                 {% endif %}
                <a href="{% url 'profile' contact.pk %}">{{contact.name}}</a><br>
                <span>
                    {% if contact.vehicle_type %}
                    Car Type: {{contact.vehicle_type}} |
                    {% endif %}
                </span>
                <span>
                    {% if contact.num_seats %}
                    Seats: {{contact.num_seats}}
                    {% endif %}
                </span><br>
                <span>
                    {% if contact.fee %}
                        Fee: {{contact.fee}} |
                    {% endif %}
                </span>
                {% if contact.available == True %}
                    <span>Currently Available: Yes</span>
                {% else %}
                    <span>Currently Available: No</span>
                {% endif %}
                <br>
                <a href="sms:{{contact.phone_number}}">Text</a>
                <a href="{% url 'remove_contact' user.pk contact.pk %}">Remove</a>
                <a href="{% url 'create_rating' user.pk contact.pk %}">Rate</a>
            </li>
        {% empty %}
            <div>You have not added any contacts yet.</div>
        {% endfor %}
    </ul> 

{% endblock %}