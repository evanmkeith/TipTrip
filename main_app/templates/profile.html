{% extends 'base.html' %}

{% block content %}
    {% if user_profile.image_link != "" %}
        <img src="{{user_profile.image_link}}" alt="{{user_profile.name}}" />
    {% else %}
        <img src="https://picsum.photos/200/200?grayscale" alt="Profile Image" />
    {% endif %}


    {% if loggedin_user.pk == user_account.pk %}
        <ul>
            <li>Name: {{user_profile.name}}</li>
            <li>Zip Code: {{user_profile.zip_code}}</li>
            <li>Bio: {{user_profile.bio}}</li>
            <li>Vehicle Type: {{user_profile.vehicle_type}}</li>
            <li>Vehicle Make: {{user_profile.vehicle_make}}</li>
            <li>Vehicle Model: {{user_profile.vehicle_model}}</li>
            <li>Number of Seats: {{user_profile.num_seats}}</li>
        </ul>
        <h3>Reviews I've Written:</h3>
        {% for rating in ratings_ive_written %}
            <div>
                <h4>Reviewed: <a href="{% url 'profile' rating.reviewee.pk%}">{{rating.reviewee}}</a> | {{rating.rating}} Stars</h4>
                <p>{{rating.comment}}</p>
                <a href="{% url 'edit_rating' rating.pk %}">Edit</a><span> | </span><span><a href="{% url 'delete_rating' rating.pk %}">Delete</a></span>
            </div>
        {% endfor %}
        <br>
        <a href="{% url 'edit_profile' user.pk %}">Edit</a>
        <a href="{% url 'delete_profile' user.pk %}">Delete</a>
    {% else %}
        <ul>
            <li>Name: {{user_profile.name}}</li>
            <li>Zip Code: {{user_profile.zip_code}}</li>
            <li>Bio: {{user_profile.bio}}</li>
        </ul>
        {% if user_profile.vehicle_type or user_profile.vehicle_make%}
            <h4>Vehicle Information:</h4>
            <ul>
                <li>Vehicle Type: {{user_profile.vehicle_type}}</li>
                <li>Vehicle Make: {{user_profile.vehicle_make}}</li>
                <li>Vehicle Model: {{user_profile.vehicle_model}}</li>
                <li>Number of Seats: {{user_profile.num_seats}}</li>
                <li>Fee: {{user_profile.fee}}</li>
                <li>Active: {{user_profile.available}}</li>
            </ul>
        {% endif %}
       <h3>Reviews:</h3>
        {% for rating in ratings %}
            <div>
                <h4><a href="{% url 'profile'  rating.reviewer.pk %}">{{rating.reviewer}}</a> | {{rating.rating}} Stars</h4>
                <p>{{rating.comment}}</p>
                {% if loggedin_user.pk == rating.reviewer.pk%}
                    <a href="{% url 'edit_rating' rating.pk %}">Edit</a>
                {% endif %}
            </div>
        {% endfor %}
    {% endif %}
    
    

    
{% endblock %}